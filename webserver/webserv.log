clang++  -g -fsanitize=address  socket.cpp response.cpp cgi.cpp helper_tools.cpp main.cpp ../configuration/request.cpp ../configuration/util.cpp ../configuration/config_file.cpp   -o njinx
./njinx
Njinx is running
====================================
binding host:port 	127.0.0.1:5050
====================================
New connections established on: 5


New connections established on: 6


=================[B REQUEST]==================
GET /hello.html HTTP/1.1
Host: localhost:5050
Connection: keep-alive
sec-ch-ua: " Not A;Brand";v="99", "Chromium";v="102", "Google Chrome";v="102"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
DNT: 1
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9


===================[E REQUEST]=================
Req header path : /hello.html
req header status : 200
server location path /
s_content_type text/html

trying to open /Users/aymaatou/Desktop/WebServer/webserver/cgi_scripts/hello.html
Response: 
HTTP/1.1 200 OK
Content-type: text/html
Content-length: 197

<FORM action = "form.perl" method="POST">
	First Name: <input type="text" name="first_name"> <br>
	
	Last Name: <input type="text" name="last_name">
	
	<input type="submit" value="Submit">
	</FORM>
=================[B REQUEST]==================
POST /form.perl HTTP/1.1
Host: localhost:5050
Connection: keep-alive
Content-Length: 30
Cache-Control: max-age=0
sec-ch-ua: " Not A;Brand";v="99", "Chromium";v="102", "Google Chrome";v="102"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
Origin: http://localhost:5050
Upgrade-Insecure-Requests: 1
DNT: 1
Content-Type: application/x-www-form-urlencoded
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Referer: http://localhost:5050/hello.html
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9

first_name=hey&last_name=there
===================[E REQUEST]=================
POST content type cgi/perl

MADE IT TO octet stream
Content-type:text/html

<html><head><title>Hello - Second CGI Program</title></head><body><h2>Hello hey there - Second CGI Program</h2></body></html>
POST CGI
Response: 
HTTP/1.1 201 Created
Content-type: text/htmlContent-length: 126

<html><head><title>Hello - Second CGI Program</title></head><body><h2>Hello hey there - Second CGI Program</h2></body></html>
=================[B REQUEST]==================
GET /index.php HTTP/1.1
Host: localhost:5050
Connection: keep-alive
sec-ch-ua: " Not A;Brand";v="99", "Chromium";v="102", "Google Chrome";v="102"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
DNT: 1
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9


===================[E REQUEST]=================
Req header path : /index.php
req header status : 200
server location path /
s_content_type cgi/php

trying to open /Users/aymaatou/Desktop/WebServer/webserver/cgi_scripts/index.php
X-Powered-By: PHP/7.4.30
Content-type: text/html; charset=UTF-8


<HTML>
<BODY BGCOLOR=#FFFFFF>

<FORM ACTION=index.php METHOD=POST>

<P>Enter FileName:
 <INPUT TYPE=TEXT NAME=file VALUE="" SIZE=75>
<P><BR><P>
<INPUT TYPE=SUBMIT VALUE="Show Me!">

</FORM>

<P><BR><P>
<P><BR><P>
<P><BR><P>


</BODY>
</HTML>
CGI
Response: 
HTTP/1.1 200 OK
Content-type:  text/html; charset=UTF-8Content-length: 224

<HTML><BODY BGCOLOR=#FFFFFF><FORM ACTION=index.php METHOD=POST><P>Enter FileName: <INPUT TYPE=TEXT NAME=file VALUE="" SIZE=75><P><BR><P><INPUT TYPE=SUBMIT VALUE="Show Me!"></FORM><P><BR><P><P><BR><P><P><BR><P></BODY></HTML>
=================[B REQUEST]==================
POST /index.php HTTP/1.1
Host: localhost:5050
Connection: keep-alive
Content-Length: 9
Cache-Control: max-age=0
sec-ch-ua: " Not A;Brand";v="99", "Chromium";v="102", "Google Chrome";v="102"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
Origin: http://localhost:5050
Upgrade-Insecure-Requests: 1
DNT: 1
Content-Type: application/x-www-form-urlencoded
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Referer: http://localhost:5050/index.php
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9

file=file
===================[E REQUEST]=================
POST content type cgi/php

MADE IT TO octet stream
X-Powered-By: PHP/7.4.30
Content-type: text/html; charset=UTF-8


<HTML>
<BODY BGCOLOR=#FFFFFF>

<FORM ACTION=index.php METHOD=POST>

<P>Enter FileName:
 <INPUT TYPE=TEXT NAME=file VALUE="file" SIZE=75>
<P><BR><P>
<INPUT TYPE=SUBMIT VALUE="Show Me!">

</FORM>

<P><BR><P>
<P><BR><P>
<P><BR><P>

 <H3>Error: File 'file' is not accessible.</H3>

</BODY>
</HTML>
POST CGI
Response: 
HTTP/1.1 201 Created
Content-type:  text/html; charset=UTF-8Content-length: 275

<HTML><BODY BGCOLOR=#FFFFFF><FORM ACTION=index.php METHOD=POST><P>Enter FileName: <INPUT TYPE=TEXT NAME=file VALUE="file" SIZE=75><P><BR><P><INPUT TYPE=SUBMIT VALUE="Show Me!"></FORM><P><BR><P><P><BR><P><P><BR><P> <H3>Error: File 'file' is not accessible.</H3></BODY></HTML>
=================[B REQUEST]==================
POST /index.php HTTP/1.1
Host: localhost:5050
Connection: keep-alive
Content-Length: 13
Cache-Control: max-age=0
sec-ch-ua: " Not A;Brand";v="99", "Chromium";v="102", "Google Chrome";v="102"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
Origin: http://localhost:5050
Upgrade-Insecure-Requests: 1
DNT: 1
Content-Type: application/x-www-form-urlencoded
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Referer: http://localhost:5050/index.php
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9

file=index.py
===================[E REQUEST]=================
POST content type cgi/php

MADE IT TO octet stream
X-Powered-By: PHP/7.4.30
Content-type: text/html; charset=UTF-8


<HTML>
<BODY BGCOLOR=#FFFFFF>

<FORM ACTION=index.php METHOD=POST>

<P>Enter FileName:
 <INPUT TYPE=TEXT NAME=file VALUE="index.py" SIZE=75>
<P><BR><P>
<INPUT TYPE=SUBMIT VALUE="Show Me!">

</FORM>

<P><BR><P>
<P><BR><P>
<P><BR><P>

 <H2 ALIGN=CENTER>File: index.py</H2>
<PRE>
print("Content-Type: text/html\r")    # HTML is following
print("\r")
print("&lt;TITLE&gt;CGI script output&lt;/TITLE&gt;\r")
print("&lt;H1&gt;This is my first CGI script&lt;/H1&gt;\r")
print("Hello, world!\r")</PRE>

</BODY>
</HTML>
POST CGI
Response: 
HTTP/1.1 201 Created
Content-type:  text/html; charset=UTF-8Content-length: 486

<HTML><BODY BGCOLOR=#FFFFFF><FORM ACTION=index.php METHOD=POST><P>Enter FileName: <INPUT TYPE=TEXT NAME=file VALUE="index.py" SIZE=75><P><BR><P><INPUT TYPE=SUBMIT VALUE="Show Me!"></FORM><P><BR><P><P><BR><P><P><BR><P> <H2 ALIGN=CENTER>File: index.py</H2><PRE>print("Content-Type: text/html\r")    # HTML is followingprint("\r")print("&lt;TITLE&gt;CGI script output&lt;/TITLE&gt;\r")print("&lt;H1&gt;This is my first CGI script&lt;/H1&gt;\r")print("Hello, world!\r")</PRE></BODY></HTML>
=================[B REQUEST]==================
GET /index.py HTTP/1.1
Host: localhost:5050
Connection: keep-alive
sec-ch-ua: " Not A;Brand";v="99", "Chromium";v="102", "Google Chrome";v="102"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
DNT: 1
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9


===================[E REQUEST]=================
Req header path : /index.py
req header status : 200
server location path /
s_content_type cgi/py

trying to open /Users/aymaatou/Desktop/WebServer/webserver/cgi_scripts/index.py
Content-Type: text/html

<TITLE>CGI script output</TITLE>
<H1>This is my first CGI script</H1>
Hello, world!
CGI
Response: 
HTTP/1.1 200 OK
Content-type: cgi/py
Content-length: 109

Content-Type: text/html<TITLE>CGI script output</TITLE><H1>This is my first CGI script</H1>Hello, world!
=================[B REQUEST]==================
GET /index.py HTTP/1.1
Host: localhost:5050
Connection: keep-alive
sec-ch-ua: " Not A;Brand";v="99", "Chromium";v="102", "Google Chrome";v="102"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
DNT: 1
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Purpose: prefetch
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9


===================[E REQUEST]=================
Req header path : /index.py
req header status : 200
server location path /
s_content_type cgi/py

trying to open /Users/aymaatou/Desktop/WebServer/webserver/cgi_scripts/index.py
Content-type: text/html

<TITLE>CGI script output</TITLE>
<H1>This is my first CGI script</H1>
Hello, world!
CGI
Response: 
HTTP/1.1 200 OK
Content-type:  text/htmlContent-length: 85

<TITLE>CGI script output</TITLE><H1>This is my first CGI script</H1>Hello, world!
New connections established on: 6


=================[B REQUEST]==================
GET /index.py HTTP/1.1
Host: localhost:5050
Connection: keep-alive
Cache-Control: max-age=0
sec-ch-ua: " Not A;Brand";v="99", "Chromium";v="102", "Google Chrome";v="102"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
DNT: 1
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9


===================[E REQUEST]=================
Req header path : /index.py
req header status : 200
server location path /
s_content_type cgi/py

trying to open /Users/aymaatou/Desktop/WebServer/webserver/cgi_scripts/index.py
Content-type: text/html

<TITLE>CGI script output</TITLE>
<H1>This is my first CGI script</H1>
<H2>Hello, world!</H2>
CGI
Response: 
HTTP/1.1 200 OK
Content-type:  text/htmlContent-length: 94

<TITLE>CGI script output</TITLE><H1>This is my first CGI script</H1><H2>Hello, world!</H2>
